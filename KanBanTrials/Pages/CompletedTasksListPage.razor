@page "/completed-tasks"
@inject IConfiguration Configuration;
@using KanBanTrials.Data;
@using KanBanTrials.Models;

<DataGrid Items="TaskItems" TItem="TaskItem">
    <Columns>
        <DataGridColumn Name="TaskId" 
            Label="Id" />
        <DataGridColumn Name="TaskName" Label="Task title"  />
        <DataGridColumn Name="Description" Label="Description" ColumnWidth="400px" />
        <DataGridColumn Name="DateRaised" 
            Label="Date Raised" 
            ColumnWidth="100px"
            FormatString="{0:d-MMM-yyyy}" />
    </Columns>
</DataGrid>


@code {
    private List<TaskItem> TaskItems = new();
    private List<TaskItem> FilteredTasks = new();

    


    private Json jsonCode;

    protected override async void OnInitialized()
    {
        TaskItems = new();

        jsonCode = new();

        LoadTasks();
    }

    public void LoadTasks()
    {
        TaskItems = jsonCode.Deseralize(Configuration["MySettings:FileLocationCurrentJson"]);

       
    }

    //Orders.Add(new Order { Price = 12.99m, Item = "Item One" });

    //private List<Order> Orders = new();

    // public class Order
    // {
    //     public decimal Price { get; set; }
    //     public string Item { get; set; }
    // }

}



@* <DataGrid TItem="Order" Items="Orders">
    <Columns>
        <DataGridColumn Name="Price" Label="Price" FormatString="{0:C}" />
        <DataGridColumn Name="Item" Label="Item Name" />
    </Columns>
</DataGrid>
 *@
